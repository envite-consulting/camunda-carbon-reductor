{
    "$schema": "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
    "name": "Carbon Reductor Connector",
    "id": "de.envite.greenbpm.carbonreductorconnector.carbonreductortask.v1",
    "description": "Reduces the carbon emissions caused by the process instance by shifting the work to a greener time window",
    "documentationRef": "http://localhost:8080/",
    "icon": {
        "contents": "data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E%3Csvg   id='Layer_1'   data-name='Layer 1'   viewBox='0 0 18 18'   version='1.1'   width='18'   height='18'   xmlns='http://www.w3.org/2000/svg'   xmlns:svg='http://www.w3.org/2000/svg'%3E  %3Cdefs     id='defs15'%3E    %3Cstyle       id='style13'%3E.cls-1%7Bfill:%236ccbb2;%7D%3C/style%3E  %3C/defs%3E  %3Cpath     class='cls-1'     d='m 18,7.809001 v 2.382752 h -6.056946 l 4.282908,4.330289 -1.666612,1.684294 -4.282908,-4.329534 V 18 H 7.9197613 V 0 h 2.3566807 v 6.1231981 l 4.282908,-4.329534 1.666612,1.6850486 -4.282908,4.3302883 z'     id='path17'     style='stroke-width:0.0750137' /%3E  %3Cpath     class='cls-1'     d='M 1.653183,3.619762 6.9775365,9 1.653183,14.381747 0,12.711029 3.6711704,9 0,5.2889708 Z'     id='path19'     style='stroke-width:0.0750137' /%3E%3C/svg%3E"
    },
    "category": {
        "id": "connectors",
        "name": "Connectors"
    },
    "appliesTo": [
        "bpmn:Task"
    ],
    "elementType": {
        "value": "bpmn:ServiceTask"
    },
    "groups": [
        {
            "id": "commonConfiguration",
            "label": "Common Configuration"
        },
        {
            "id": "slaBasedConfiguration",
            "label": "SLA based configuration"
        },
        {
            "id": "timeshiftWindowConfiguration",
            "label": "timeshift window configuration"
        },
        {
            "id": "outputMapping",
            "label": "Output Mapping"
        }
    ],
    "properties": [
        {
            "type": "Hidden",
            "value": "de.envite.greenbpm.carbonreductorconnector.carbonreductortask:1",
            "binding": {
                "type": "zeebe:taskDefinition:type"
            }
        },
        {
            "label": "location",
            "group": "commonConfiguration",
            "id": "location",
            "description": "The location where the process is running",
            "type": "Dropdown",
            "choices": [
                {
                    "name": "Europe North",
                    "value": "northeurope"
                },
                {
                    "name": "Europe West",
                    "value": "westeurope"
                },
                {
                    "name": "France Central",
                    "value": "francecentral"
                },
                {
                    "name": "France South",
                    "value": "francesouth"
                },
                {
                    "name": "Germany North",
                    "value": "germanynorth"
                },
                {
                    "name": "Germany West Central",
                    "value": "germanywestcentral"
                },
                {
                    "name": "UK South",
                    "value": "uksouth"
                },
                {
                    "name": "UK West",
                    "value": "ukwest"
                },
                {
                    "name": "Switzerland North",
                    "value": "switzerlandnorth"
                },
                {
                    "name": "Switzerland West",
                    "value": "switzerlandwest"
                },
                {
                    "name": "Sweden Central",
                    "value": "swedencentral"
                },
                {
                    "name": "Norway East",
                    "value": "norwayeast"
                }
            ],
            "binding": {
                "type": "zeebe:input",
                "name": "location"
            }
        },
        {
            "label": "SLA based or absolute duration",
            "group": "commonConfiguration",
            "id": "carbonReductorMode",
            "description": "defines how to calculate the time window for the timeshift - relative calculates the runtime of the process instance from the specified milestone - absolute uses the absolute value",
            "type": "Dropdown",
            "choices": [
                {
                    "name": "SLA based configuration",
                    "value": "slaBasedConfiguration"
                },
                {
                    "name": "timeshift window only",
                    "value": "timeshiftWindowOnly"
                }
            ],
            "binding": {
                "type": "zeebe:input",
                "name": "carbonReductorMode"
            }
        },
        {
            "label": "milestone",
            "group": "commonConfiguration",
            "id": "milestone",
            "description": "timestamp of the chosen milestone",
            "value": "=now()",
            "type": "String",
            "feel": "optional",
            "binding": {
                "type": "zeebe:input",
                "name": "milestone"
            }
        },
        {
            "label": "duration of remaining process tasks",
            "group": "commonConfiguration",
            "id": "remainingProcessDuration",
            "description": "the duration of the remaining tasks after the Carbon Reductor as ISO 8601 duration",
            "value": "PT6H",
            "type": "String",
            "feel": "optional",
            "binding": {
                "type": "zeebe:input",
                "name": "remainingProcessDuration"
            }
        },
        {
            "label": "maximum process duration from milestone to finish",
            "group": "slaBasedConfiguration",
            "id": "maximumProcessDuration",
            "description": "the maximum duration the process is allowed to run as ISO 8601 duration",
            "value": "PT12H",
            "type": "String",
            "feel": "optional",
            "binding": {
                "type": "zeebe:input",
                "name": "maximumProcessDuration"
            }
        },
        {
            "label": "timeshift window",
            "group": "timeshiftWindowConfiguration",
            "id": "timeshift window",
            "description": "The timer duration in ISO 8601",
            "value": "PT5M",
            "type": "String",
            "feel": "optional",
            "binding": {
                "type": "zeebe:input",
                "name": "timeshiftWindow"
            }
        },
        {
            "label": "Result Expression",
            "description": "Expression to map the response into process variables",
            "type": "Text",
            "group": "outputMapping",
            "feel": "required",
            "binding": {
                "type": "zeebe:taskHeader",
                "key": "resultExpression"
            }
        }
    ]
}